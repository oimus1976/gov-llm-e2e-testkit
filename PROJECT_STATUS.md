# 📘 PROJECT_STATUS v0.7.4  
**— F8（Markdown 価値判断フェーズ）設計合意反映版 —**

**Last Updated:** 2025-12-25  
**Maintainer:** Sumio Nishioka & ChatGPT (Architect Role)

---

## 0. フェーズ定義の統一（不変）

本プロジェクトのフェーズ定義は、  
**Roadmap v1.3 を唯一の正本**として以下に統一する。

| フェーズ | 内容 |
|---|---|
| F1 | 設計フェーズ |
| F2 | Page Object 実装フェーズ |
| F3 | Answer Detection & テスト基盤構築フェーズ |
| F4 | RAG 入力差分影響の観測・試験データ提供フェーズ |
| F5 | CI（e2e.yml）整備フェーズ |
| F6 | LGWAN 対応フェーズ（保留） |
| F7-A | 運用準備フェーズ |
| F7-B | 制御付き実運用試行フェーズ |
| F7-C | 拡張試行フェーズ |
| **F8** | **材料回収・価値判断準備フェーズ** |

※ F7 は単一フェーズではなく、A / B / C の段階構造を持つ。

---

## 1. Current Phase（現在地）

### **F8 (材料回収・価値判断準備フェーズ)**

#### 設計合意（v0.2）

- **F8 v0.2 設計合意サマリーを確定**
  - continue-on-error を前提とした runner / orchestrator 方針を合意
  - failure handling を二値ではなく状態（taxonomy）として扱う方針を合意
  - 全質問について成功・失敗を問わず **1 レコード必ず生成**する成果物完全性ルールを合意
- v0.1r で確定した単一質問 I/F（run_single_question）および  
  submit / probe / Answer Detection の責務分離は  
  **非改変・再利用前提**とすることを再確認

#### 状態

- F8 v0.2 は **設計合意フェーズ完了**
- 実装・詳細設計は未着手

[2025-12-25]

- Design_F8_v0.3_runner を FIX として確定。
- Answer Detection を「回答完了検出・実行制御専用」と位置づけ、
  回答テキスト回収は best-effort の Raw Answer Capture 経路として分離。
- runner は UI 非契約前提（DOM 変更耐性）を設計として内包する世代へ更新。
- v0.2 系 runner 設計は凍結。

---

## 2. プロジェクトの到達点（要約）

本プロジェクトは現在、

> **再現可能な E2E テスト基盤（F1–F3）**  
> **判断材料として利用可能な試金石データ（F4）**  
> **基盤破壊を即時検知する最小 CI（F5）**  
> がすべて成立・完結した状態で、  
> **F7-C（拡張試行フェーズ）を完結**し、  
> F8（Markdown 価値判断フェーズ）へ移行している。

---

## 3. 完了済み成果（完結）

### ✅ F1–F3：E2E 基盤フェーズ（完全完結）

- Playwright ベースの E2E テスト基盤を確立
- Page Object / Answer Detection / pytest Execution Layer の責務境界を固定
- UI 変動・モデル更新に対して再現可能な観測が可能な状態に到達

---

### ✅ F4：試金石データ提供フェーズ（完結・CI 非対象）

- RAG 入力差分影響を観測するための試金石データ提供設計を確立
- F4 は **意図的に CI 対象外**とする

---

### ✅ F5：CI（e2e.yml）整備フェーズ（完結）

- Smoke Test のみを対象とした最小 CI が GitHub Actions 上で成立
- CI の目的は **品質評価ではなく基盤破壊検知**に限定
- F4 / RAG QA / Golden 評価は CI に含めない設計を固定

---

### ✅ F7：運用試行フェーズ（A / B / C 完結）

#### F7-B（制御付き実運用試行）

- 実施回数：**2回**
- Trial_Plan_F7-B_v0.2 に基づき最大回数を完了
- Runbook 逸脱・中断判断の誤作動は発生していない

#### F7-C（拡張試行）

- 実施回数：**3回**
- Design_F7-C_v0.1 に基づきすべて完走
- 試行ログは Trial Record Template v0.1 により自己完結的に記録

※ 上記はいずれも **運用耐久性の事実確認**に留まり、  
　 回答品質・有用性・正確性の評価を意味しない。

---

## 4. F7-C 確定成果物（完結）

- **Design_F7-C_v0.1**
- **Runbook_F7-C_operational_v0.1**
- **Trial Record Template v0.1**
- **準Golden質問ガイドライン v0.2**

---

## 5. F8（単一質問 I/F）に関する確定事項

- F8 v0.1r+ は runner 実装完了をもって **FIX**
- UI 表示どおりの回答テキストを保存する
- Citations は独立セクションとして扱わない

以下は **v0.2 以降の検討対象（Backlog）**とする：

- Citations 構造化の可否
- 成果物配置・命名規約の正式 FIX
- frontmatter メタデータ既定値ポリシー

---

## 6. 運用上の前提（評価・判断と無関係）

以下は **品質評価・フェーズ進行判断の材料とはしない**。

- LLM 応答の非決定性
- UI 変更によるロケータ破壊
- 外部サービス起因の一時的失敗

---

## 7. Next Action（単一・最優先）

- F8 v0.3 runner 実装（raw answer capture を含む最小実装）に着手
- ローカル実行によるランタイム検証を実施
- 回収された raw 回答素材を例規HTML変換プロジェクトへ接続

---

## 8. Backlog（正式登録）

- **バージョニング規則の整理**
  - r / + 表記の採否
  - 採用する場合の意味論
  - 採用しない場合の禁止明文化
  - 影響範囲（Design / Docs / PROJECT_STATUS / CHANGELOG）

---

## 9. 注記（不変）

- 本 STATUS は **「現在地の唯一の正本」**である
- 設計・裁定・フェーズ判断は、  
  本文書と Roadmap / CHANGELOG の整合をもって行う

---
