version: "0.2.2"

# --- 1. デフォルト profile（CI を優先） ---
profile: "internet"   # ローカルでも動作するよう従来維持（必要なら "ci" に変更可）


profiles:
  # --- 2. Internet (GitHub Actions / Local Dev 共通) ---
  internet:
    description: "GitHub Actions / 開発端末向けプロファイル"
    url: "${QOMMONS_URL:-https://qommons.ai}"   # fallback を追加
    username: "${QOMMONS_USERNAME:-dummy}"
    password: "${QOMMONS_PASSWORD:-dummy}"
    browser:
      headless: true
      browser_timeout_ms: 15000
      page_timeout_ms: 15000

  # --- 3. LGWAN 環境 ---
  lgwan:
    description: "庁内 LGWAN 用プロファイル（低速・高遅延）"
    url: "${LGWAN_URL}"
    username: "${LGWAN_USERNAME}"
    password: "${LGWAN_PASSWORD}"
    browser:
      headless: true
      browser_timeout_ms: 60000
      page_timeout_ms: 60000

  # --- 4.（任意）CI 専用 profile ---
  ci:
    description: "GitHub Actions headless 専用プロファイル"
    url: "${QOMMONS_URL}"
    username: "${QOMMONS_USERNAME}"
    password: "${QOMMONS_PASSWORD}"
    browser:
      headless: true
      browser_timeout_ms: 20000        # CI はローカルより遅いので+5秒
      page_timeout_ms: 20000


# --- 5. 共通オプション ---
options:
  retry_policy: 0
  log_dir: "logs"
