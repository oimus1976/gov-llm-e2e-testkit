# FAQ（よくある質問・トラブル対応）

## はじめに

本ドキュメントは、
**F9-A: Question Resolution（質問具体化）ツール**について、
利用時によくある疑問や誤解を整理したものです。

本 FAQ は、README に記載された内容を前提としており、
**本ツール単体の挙動だけでなく、プロジェクト全体の流れ**を踏まえて説明します。

---

## Q1. このツールは何をするものですか？

**A.**
条例データと質問テンプレートをもとに、
**実行用の質問文を機械的に確定・生成する**ためのツールです。

本ツールでは、

- 生成AIへの問い合わせ
- 回答の収集
- 回答の正誤や品質評価

は行いません。

生成された質問定義データは、
後続フェーズ（回答収集）で使用されます。

---

## Q2. 実行中にユーザー入力を求められることはありますか？

**A.**
ありません。

本ツールは **非対話型**であり、
実行中に入力を求められることはありません。

ただし、出力結果の中に `user_input` として記録される項目が含まれる場合があります。
これは、質問を一意に確定できなかったことを示す **結果情報**であり、
実行時にユーザーが入力したものではありません。

---

## Q3. 生成AIサービスへのログインや接続設定は必要ですか？

**A.**
本ツールでは不要です。

生成AIサービスへの接続設定
（URL、ユーザーID、パスワード等）は、
**後続の（回答収集フェーズ）**でまとめて行うことを想定しています。

本ツールは、抽象化された質問を具体化するための前処理ツールです。

---

## Q4. 例規データ（条例本文HTML）はどこに配置すればよいですか？

**A.**
以下の構成で配置してください。

```text
data/
  reiki/
    <ordinance_id>.html
```

- 条例本文 HTML は `data/reiki/` に配置します
- ファイル名は **条例IDと完全に一致**させてください

これ以外の構成には対応していません。

---

## Q5. `reiki_menu.html` や `reiki_honbun` フォルダは必要ですか？

**A.**
不要です。

本ツールでは、

- `reiki_menu.html`
- `reiki_honbun`
- 中間ディレクトリ構造

は一切使用しません。

条例本文 HTML が `data/reiki/` に直接配置されていれば十分です。

---

## Q6. `ordinance.csv` や `question.csv` は自由に編集してよいですか？

**A.**
内容（値）の編集は可能ですが、
**列名や構造は変更しないでください**。

- ファイル名
- 配置場所
- 列構造

はいずれも固定です。

サンプルファイルを複製し、
**値のみを編集する運用**を想定しています。

---

## Q7. PowerShell が使えない環境ではどうすればよいですか？

**A.**
PowerShell が利用できない環境では、
`run/run_question_resolution.bat` を使用してください。

- PowerShell 版：推奨
- bat 版：簡易実行用

いずれの場合も、Python 実行環境が必要です。

---

## Q8. 実行環境によってパスは変わりますか？

**A.**
ツールの配置場所（ドライブやフォルダ）は異なっても問題ありませんが、
**ディレクトリ構造とファイル名は必ず同一にしてください**。

bat / ps1 スクリプトは、
リポジトリ構造を前提として動作します。

---

## Q9. 出力された JSON を直接編集してもよいですか？

**A.**
推奨しません。

出力された JSON は、
本プロジェクトにおける **質問定義の正本**として扱われます。

内容を編集せず、
後続フェーズのツールにそのまま入力してください。

---

## Q10. エラーが出た場合、まず何を確認すればよいですか？

**A.**
以下を順に確認してください。

1. `data/` 配下のファイルがすべて揃っているか
2. ファイル名・配置場所が README の記載どおりか
3. CSV の列名や構造を変更していないか

それでも解決しない場合は、
**エラーメッセージ全文を添えて管理者に相談してください**。

---

## Q11. `run/` ディレクトリ内のファイルを編集してもよいですか？

**A.**
編集しないでください。

`run/` ディレクトリ配下のスクリプトは、
**実行専用**として提供されています。

内容を変更すると、
入力ファイルの参照や処理が正しく行われなくなる可能性があります。

---

## Q12. このツールの次に何をすればよいですか？

**A.**
本ツールで生成された質問定義データを使用して、
**回答収集フェーズ**に進んでください。

詳細な手順は、
回答収集フェーズのドキュメントを参照してください。

---
