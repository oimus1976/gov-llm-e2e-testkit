# Question Resolution Tool — 利用手引書

本ドキュメントは、条例 HTML を入力として、
抽象的な質問文を  
**「条例 ID・条・項が確定した実行用質問」** に具体化するための、
公式な利用手引書です。

本書は、一般利用者（職員・評価者）が、
本ツールを実行し、
その結果を確認したうえで、
質問具体化が完了したかどうかを判断することを目的としています。

---

## 1. このツールは何をするものか

このツールは、条例 HTML（Reiki-Base 形式）をもとにして、  
**抽象的に書かれた質問文**を、  
**条例 ID・条・項が確定した「実行用の質問」**に変換します。

ここでいう「抽象的な質問文」とは、次のように、  
具体的な条番号や項番号が書かれていない質問のことです。

- 「この条例」
- 「第○条」
- 「第○条第○項」

このツールは、これらの表現を、  
条例 HTML から取得した **条・項の構造情報**をもとに具体化し、  
**条番号や項番号が不明のまま残らない状態**にすることを目的としています。

---

### なぜ具体的な質問文を直接使わないのか

このツールでは、  
「第3条の内容を説明してください」  
のように、条番号を指定した質問文を  
最初から入力することは想定していません。

これは、**1つの質問セットを、複数の条例に共通で使えるようにするため**です。

条例によっては、  
同じ内容を定めていても、  
条番号や構成が異なることがあります。

条番号を指定した質問文を使うと、  
条例ごとに質問文を作り直す必要があり、  
運用や管理の負担が大きくなります。

そのためこのツールでは、

- 質問文は「第○条」「この条例」のように抽象的に記述する
- 実行時に、対象となる条例に応じて条・項を確定する

という役割分担を採用しています。

---

### 抽象的な質問を具体化する仕組み

実行時には、ユーザーが指定した場所にある
条例 HTML から条・項の構造情報を取得し、
その情報をもとに処理を行います。

- 構造が単純で、候補が1つに決まる場合は、  
  スクリプトが自動で条番号・項番号を確定します
- 候補が複数あり、自動で決められない場合は  、
  **ユーザー自身が条番号・項番号を指定して確定します**

この処理により、

- 同じ質問セットを複数の条例に対して使い回せる
- 条例改正や構成変更があっても影響を受けにくい
- 条番号の書き間違いといった人為的ミスを防げる

といったメリットがあります。

---

### 対象となる条例の扱いについて

このツールでは、  
**どの条例を対象に質問を具体化するか**を、  
実行時にユーザーが指定します。

条例データは、このツールには含まれていません。  
DVD、USB メモリ、ネットワークドライブなどに  
既に存在している条例データを、  
**コピーせずにそのまま指定して利用します**。

条例の指定方法や実行の流れについては、  
第5章「実行方法」で説明します。

---

### このツールが行うこと・行わないこと

このツールが行うことは、次のとおりです。

- 条例 HTML から条・項の構造を取得する
- 抽象的な質問文を、具体的な条・項に結び付ける
- 必要に応じて、ユーザー入力によって確定させる
- 条や項を未確定の状態のまま残さない

一方で、次のことは行いません。

- 回答内容が正しいかどうかの判断
- 条例の解釈や意味づけ
- 回答文の作成や要約
- 評価・採点そのもの

このツールは、  
**質問を評価可能な形に整えるための準備作業**を担うものです。

なお、本ツールは、
質問を確実に評価可能な状態にすることを重視して設計されています。

そのため、推測による補完を行わず、
必要に応じてユーザーの判断を求めるなど、
一見すると手間がかかる挙動を取る場合があります。

こうした挙動の背景にある考え方については、
第6章「処理の流れ（概要）」内の  
**6.8「本ツールにおける重要な設計原則」** を参照してください。

---

## 2. 対象となる入力データ

本ツールでは、質問を具体化するために、
次の 3 種類の入力データを使用します。

- 条例データ（Reiki-Base HTML）
- 対象条例 ID 一覧（CSV）
- 質問セット（CSV）

それぞれの役割と形式について、以下で説明します。

---

### 2.1 条例データ（Reiki-Base HTML）

本ツールは、Reiki-Base（ぎょうせい）形式の  
条例 HTML を入力として使用します。

条例データは、次の構成を前提としています。

```text
reiki_int/
  reiki_menu.html
  reiki_honbun/
    k518RG00000059.html
    k518RG00000064.html
    k518RG00000071.html
    ...
```

- `reiki_menu.html`  
  条例集合の入口となる HTML  
  （本番環境における index 相当）
- `reiki_honbun/*.html`  
  個別条例の本文 HTML
  ファイル名は **条例 ID** と一致している必要があります

テスト環境では、上記構成を  
リポジトリ内の `data/` 配下に配置していますが、  
本番環境では DVD や USB メモリ等により、  
`D:\reiki_int\` のような場所に配置されることを想定しています。

**ディレクトリ構造が同一であれば、配置場所は問いません。**

---

### 2.2 対象条例 ID 一覧（CSV）

本ツールでは、条例の選定そのものは自動では行いません。

代わりに、ユーザーがあらかじめ  
「今回の処理対象とする条例」を選定し、  
**条例 ID の一覧として CSV ファイルにまとめます**。

CSV は、次の形式で作成します。

```csv
ordinance_id,ordinance_title
k518RG00000001,○○町の役場の位置に関する条例
k518RG00000002,町村の廃置分合
```

- `ordinance_id`  
  対象とする条例の ID  
  （`reiki_honbun` 内の HTML ファイル名と一致する必要があります）
- `ordinance_title`  
  条例名（確認用の情報であり、処理には使用しません）

この CSV は、例規集の目次や検索機能を使って、  
ユーザー自身が人手で作成します。  
Excel 等で作成・編集可能です。

この一覧に含まれない条例が、  
後続の処理対象になることはありません。

---

### 2.3 質問セット（CSV）

質問セットは、**CSV ファイル**で管理します。

CSV に記載する質問文は、  
**抽象表現のみを使用**し、  
次の内容を直接記述してはいけません。

- 条例 ID
- 具体的な条番号・項番号

例：

```csv
question_id,question_text
Q3,第○条の内容を要約してください。
Q4,第○条第○項の内容を説明してください。
```

質問文に含まれる抽象表現  
（第○条、第○項など）は、  
本ツールによって **必ず具体的な条・項に確定されます**。

抽象表現が残ったまま、  
処理結果として出力されることはありません。

---

## 3. フォルダ構成と配置ルール

本ツールは、条例 HTML や各種 CSV を  
**一定の構造ルールに基づいて参照する**ことを前提として動作します。

ユーザーごとに任意の配置ルールを許容すると、  
結果の再現性や、引き継ぎ・運用確認が困難になるためです。

重要なのは、  
「どこに置くか」ではなく  
**「どのような構造で配置されているか」**です。

---

### 3.1 基本構成（テスト環境の例）

テスト環境では、次の構成を例として使用しています。

```text
data/
  reiki_int/
    reiki_menu.html
    reiki_honbun/
      k518RG00000059.html
      k518RG00000064.html
      k518RG00000071.html
      ...
```

- `reiki_int/`  
  条例データのルートディレクトリ
- `reiki_menu.html`  
  条例集合の入口となる HTML  
  （本番環境における index 相当）
- `reiki_honbun/`  
  個別条例本文 HTML を格納するディレクトリ

この構成は、  
**フォルダ構造の例示**であり、  
実行時には別の場所を指定することも可能です。

---

### 3.2 条例本文 HTML の配置ルール

`reiki_honbun/` 配下には、  
**1 条例 = 1 HTML ファイル**として条例本文を配置します。

#### ファイル名の規則

- ファイル名は **条例 ID と完全に一致**させます
- 拡張子は `.html` とします

例：

```text
k518RG00000064.html
```

この規則により、本ツールは  
**条例 ID と HTML ファイルを一意に対応付けて処理**します。

---

### 3.3 本番環境との関係

本番環境では、条例データは次のように配置されることが一般的です。

```text
D:\reiki_int\
  reiki_menu.html
  reiki_honbun\
    k518RG00000064.html
    ...
```

テスト環境では、これと同一の構造を  
リポジトリ内の `data/` 配下に再現しています。

本ツールにとって重要なのは、次の点です。

- ディレクトリ構造
- ファイル命名規則
- `reiki_menu.html` と `reiki_honbun/` の関係

これらが一致していれば、  
**配置場所（ドライブやパス）は問いません**。

---

### 3.4 条例 ID 一覧 CSV・質問セット CSV の配置

条例 ID 一覧 CSV および質問セット CSV は、  
条例データとは分離して管理します。

- 条例 HTML と同じディレクトリに置く必要はありません
- CSV ファイルの配置場所は任意です
- 実行時に、どの CSV を使用するかを明示的に指定します

具体的な指定方法や実行手順については、  
**第5章「実行方法」**で説明します。

ここでは、  
「CSV は実行時に指定される入力データである」  
という点のみを前提としてください。

---

## 4. 動作環境・制限事項

このツールを利用するにあたり、あらかじめ次の点をご確認ください。

### 動作環境について

このツールは、以下の環境を前提として設計されています。

- Windows 環境
- コマンドプロンプト（cmd.exe）または PowerShell が利用可能なこと
- Python 3.x が利用可能であること  
  （または、配布物に同梱された Python 実行環境を利用できること）

PowerShell が利用可能な環境では、  
操作を補助するスクリプト（`.ps1`）を使用することで、  
より分かりやすく実行できます。

PowerShell の実行が制限されている環境では、  
`.bat` ファイルによる実行を想定しています。

---

### 実行できない可能性がある環境

次のような環境では、このツールをそのまま実行できない場合があります。

- PowerShell の実行が禁止されている
- Python の実行が禁止されている
- 外部プログラムの追加や実行が制限されている
- USB メモリや DVD 等からの直接参照が禁止されている

これらの環境では、  
このツールの利用自体が難しい場合があります。

---

### このツールの位置づけについて

このツールは、  
すべての自治体・すべての端末環境での利用を保証するものではありません。

主に、以下のような利用を想定しています。

- DX 推進部門や検証用端末での利用
- 評価・検証作業を目的とした限定的な運用
- 本番運用前の確認・試行環境での利用

厳しい制限のある環境での利用を想定した  
Web アプリケーション化やサーバー常駐型の提供は、  
このツールの対象外としています。

---

### 条例データの取り扱いについて

条例データ（例規 HTML）は、このツールには含まれていません。

- DVD、USB メモリ、ネットワークドライブ等に存在する  
  既存の条例データを、そのまま指定して利用します
- 条例データをこのツールのフォルダ内にコピーする必要はありません

条例データの配置場所は、  
実行時にユーザーが指定します。

---

### 制限事項のまとめ

- このツールは、実行環境に一定の制約があります
- 制約の厳しい端末では、利用できない場合があります
- 利用できる環境において、確実に再現性のある検証を行うことを重視しています

---

## 5. 実行方法

本章では、このツールを実際に実行する手順を説明します。

このツールは、  
**あらかじめ選定した条例一覧と質問セットを入力として与え、**  
1 コマンドで質問の具体化を行うことを前提としています。

Git リポジトリの clone 操作は不要です。
ZIP 配布されたファイル一式を展開して利用します。

---

### 5.1 実行前に準備するもの

実行前に、次のものを用意してください。

- このツール一式（ZIP 配布物を展開したもの）
- 条例データ一式  
  （DVD、USB メモリ、ネットワークドライブ等に格納されたもの）
  - `reiki_menu.html`
  - `reiki_honbun` フォルダ
- 質問セット CSV
- **対象となる条例 ID を一覧にした CSV**

条例データは、このツールのフォルダ内に
**コピーする必要はありません**。
実行時に配置場所を指定します。

また、初回実行時には、  
接続先サービスに関する設定（URL、ユーザーID、パスワード等）が必要になります。

---

### 5.2 対象条例 ID 一覧 CSV の作成

このツールでは、条例の選定そのものは自動では行いません。

代わりに、ユーザーが
「今回の処理対象とする条例」を事前に選定し、
**条例 ID の一覧として CSV にまとめます**。

CSV は、次の形式で作成してください。

```csv
ordinance_id,ordinance_title
k518RG00000001,かつらぎ町の役場の位置に関する条例
k518RG00000002,町村の廃置分合
```

- `ordinance_id`  
  条例 HTML のファイル名と一致する条例 ID
- `ordinance_title`  
  条例名（確認用。処理には使用しません）

この CSV は、例規集（DVD 等）の目次や検索機能を使って、  
**人手で選定した結果を整理するためのもの**です。  
Excel 等で作成・編集できます。

---

### 5.3 実行の流れ（概要）

実行は、次の流れで行われます。

1. 実行用スクリプトを起動する
2. 条例データの配置場所を指定する
3. 対象条例 ID 一覧 CSV を指定する
4. 質問セット CSV を指定する
5. 使用する実行環境（`.env`）を選択する  
　（初回の場合、接続先サービスの設定を行う）
6. 内容を確認し、処理を実行する
7. 結果を確認する

この一連の流れは、
実行用スクリプトが対話形式で案内します。

- 2回目以降は、直前の入力内容が自動的に再利用されるため、入力の手間が軽減されます。
- 入力値が無効な場合は、必要な項目のみ再入力が求められます。

---

### 5.4 実行用スクリプトの起動

ZIP を展開したフォルダ内の `run` ディレクトリに、  
実行用スクリプトがあります。

#### PowerShell が利用できる場合（推奨）

```text
run/run_question_resolution.ps1
```

を実行してください。

#### PowerShell が利用できない場合

```text
run/run_question_resolution.bat
```

を実行してください。

- ※ PowerShell 版（推奨）は、入力値の検証や案内がより丁寧です。
- .bat 版は PowerShell が利用できない環境向けの簡易実行です。入力チェックや案内は PowerShell 版より限定されます。
- run/ ディレクトリは、一般ユーザーが実行するための入口です。run/ 配下のファイルは編集せず、そのまま実行してください。
- このツールは run/ 配下のスクリプト実行のみを想定しています（Python ファイルを直接実行する必要はありません）。

---

### 5.5 条例データの指定

スクリプト起動後、  
条例データの配置場所を尋ねられます。

例：

```text
条例データの場所を指定してください。
例: D:\reiki_int
>
```

ここでは、

- `reiki_menu.html`
- `reiki_honbun` フォルダ

が含まれるディレクトリを指定してください。

DVD、USB メモリ、ネットワークドライブなど、  
**元の保存場所をそのまま指定できます**。

---

### 5.6 実行環境（.env）の選択と初期設定

次に、使用する実行環境を選択します。

```text
使用する環境を選択してください。
1: local
2: test
3: prod
>
```

実行環境の選択は **必須**です。

#### 初回実行時について

初回実行時には、  
接続先サービスに関する設定が未設定のため、  
次の情報の入力が求められます。

- サービスの URL
- ユーザーID
- パスワード（またはトークン）

入力された内容は `.env` ファイルに保存され、  
**次回以降の実行では再入力は不要**です。

---

### 5.7 実行内容の確認と処理開始

実行前に、設定内容の確認が表示されます。

```text
条例データの場所:
  D:\reiki_int

使用環境:
  local

この内容で実行してよろしいですか？ (Y/N)
>
```

内容を確認し、問題なければ実行を開始してください。

---

### 5.8 実行中の対話入力について

質問の具体化処理の途中で、  
条・項を自動で確定できない場合があります。

その場合のみ、  
スクリプトは **ユーザーに入力を求めます**。

- 入力が求められるのは、候補が複数ある場合のみです
- ユーザーが指定した条番号・項番号が最終結果として採用されます
- 未確定のまま次の処理に進むことはありません

---

### 5.9 実行結果の確認

処理が完了すると、  
結果は `output` ディレクトリに出力されます。

標準出力にも概要が表示されますので、  
あわせて確認してください。

---

### 5.10 エラーが表示された場合

次のような場合、処理は中断され、  
エラーメッセージが表示されます。

- 指定した場所に条例データが見つからない
- 条例 HTML の構成が想定と異なる
- 質問セット CSV の形式が正しくない
- 必須の設定項目が未入力である

エラーメッセージの内容を確認し、  
配置や設定を修正したうえで、再度実行してください。

---

## 6. 処理の流れ（概要）

本章では、このツールが内部でどのような手順で  
質問を具体化しているかを、概念レベルで説明します。

ここで説明する内容は、  
実装の詳細ではなく、  
**処理の責務と確定ポイントを理解するためのもの**です。

---

### 6.1 全体の流れ

処理は、次の順序で進みます。

1. 質問セットの読み込み
2. 対象条例の確定
3. 条例構造の取得
4. 質問と条例の対応付け
5. 条・項の解決
6. 結果の出力

各段階は、  
**必ず前段の結果が確定した状態でのみ**次に進みます。

---

### 6.2 質問セットの読み込み

- 指定された質問セット CSV を読み込みます
- 質問文に、許可されていない表現  
  （条例 ID や具体的な条番号など）が含まれていないかを検証します

不正な形式が見つかった場合、  
この時点で処理は中断されます。

---

### 6.3 対象条例の確定（条例 ID 一覧）

次に、対象となる条例を確定します。

このツールでは、
**条例の選定そのものは行いません**。

ユーザーが事前に作成した
条例 ID 一覧 CSV を読み込み、
その一覧に含まれる条例のみを
今回の処理対象として確定します。

この段階で、

- 対象となる条例
- 対象外となる条例

が明確に分かれます。

条例 ID 一覧に含まれない条例が、
後続の処理対象になることはありません。

---

### 6.4 条例構造の取得

対象条例が確定したあと、
対応する条例 HTML を読み込み、
条・項の構造情報を取得します。

ここで扱うのは、

- 条番号
- 項番号
- それらの構造関係

といった **構造情報のみ**です。

条例の意味や内容を解釈する処理は行いません。

---

### 6.5 質問と条例の対応付け

各質問について、
「どの条例に対する質問か」を確定します。

- 対象は、6.3 で確定した条例のみです
- 条例 ID が一意に確定できない場合、
  処理は中断されます

この段階で、
質問は **必ず特定の条例に結び付けられた状態**になります。

---

### 6.6 条・項の解決

質問文に含まれる抽象表現
（第○条／第○条第○項）について、
次の手順で解決を行います。

- 条例構造上、一意に決定できる場合は自動で確定します
- 複数候補がある場合は、ユーザー入力によって確定します

いずれの場合も、
**未確定のまま次の処理に進むことはありません**。

---

### 6.7 結果の確定と出力

すべての質問について、  
条例 ID・条・項が確定した時点で処理は完了します。

確定した結果は、  
出力ディレクトリに保存され、  
ユーザーが確認できる形で提示されます。

この出力が、  
質問具体化の完了判定の根拠となります。

---

### 6.8 このツールにおける重要な設計原則

このツールの処理は、次の設計原則に基づいています。

- 未解決のまま処理を継続しない  
- 推測や補完による解決を行わない  
- 一次情報（条例 HTML）を唯一の根拠とする  
- 自動解決とユーザー入力解決を明確に区別する  

これらの原則は、処理の各段階すべてに共通して適用されます。

条例 ID、条番号、項番号のいずれについても、
確定できない状態のまま
後続の処理に進むことはありません。

この設計により、
質問具体化の結果は常に

- 再現可能であり
- 後から理由を説明でき
- 実行者が責任を持てる

状態になります。

---

## 7. 出力の見方

本章では、このツールの出力結果について、  
**どこを見て、何を確認すればよいか**を説明します。

出力は、  
質問が正しく具体化されたかどうかを  
ユーザー自身が確認・判断するためのものです。

評価や採点を行うためのものではありません。

---

### 7.1 出力の単位

出力は、**1 質問ごと**にまとめて表示されます。

各質問について、次の情報が順に出力されます。

- 質問 ID
- 元の質問文（抽象表現を含む）
- 具体化後の質問情報
- 解決方式（自動／ユーザー入力）

この単位で確認することで、  
質問ごとの具体化結果を個別に把握できます。

---

### 7.2 出力例と全体像

以下は、1 質問分の出力例です。

```text
[Q3]
Original Question:
  第○条の内容を要約してください。

Resolved:
  ordinance_id: k518RG00000064
  article: 第3条
  paragraph: -

Resolution Type:
  auto
```

以降の節では、
この出力例に沿って、各項目の意味を説明します。

---

### 7.3 Original Question（元の質問文）

- 質問セット CSV に記載されていた元の質問文です
- 「第○条」などの抽象表現を含みます

この項目は、
**入力として与えた質問が何であったか**を確認するためのものです。

---

### 7.4 Resolved（具体化後の情報）

`Resolved` には、質問がどのように具体化されたかが示されます。

- `ordinance_id`  
  対象となる条例の ID
- `article`  
  確定した条番号
- `paragraph`  
  確定した項番号  
  （項が存在しない場合は `-`）

ここで重要なのは、  
**抽象表現が残っていないこと**です。

条例 ID・条・項がすべて具体的な値になっていれば、  
質問は評価可能な状態に整っています。

---

### 7.5 Resolution Type（解決方式）

`Resolution Type` は、  
質問の具体化が **どの方法で確定したか**を示します。

- `auto`  
  条例構造から、一意に自動解決された
- `user_input`  
  自動解決できず、ユーザー入力によって確定された

どちらの場合でも、  
**結果が確定していること自体が重要**であり、  
解決方式の優劣はありません。

---

### 7.6 ユーザー入力が発生した場合の出力

ユーザー入力が必要だった場合も、  
出力形式は変わりません。

```text
[Q4]
Original Question:
  第○条第○項の内容を説明してください。

Resolved:
  ordinance_id: k518RG00000064
  article: 第5条
  paragraph: 第2項

Resolution Type:
  user_input
```

この場合は、  

- 自動解決できなかったこと自体は異常ではない
- ユーザーが指定した結果が、そのまま最終結果になっている

ことを確認してください。

---

### 7.7 出力確認時のポイント

出力を確認する際は、次の点に注意します。

- 抽象表現（第○条／第○項）が残っていないか
- 条番号・項番号が空欄や不明確な値になっていないか
- Resolution Type が想定外の値になっていないか

これらが満たされていれば、  
**質問の具体化は正しく行われています**。

具体的に「完了と判断してよいかどうか」は、
次章（第8章）で示す基準に従って判断してください。

---

### 7.8 JSON 出力の構造

出力は `output/` 配下に次の 2 つのファイルとして保存されます。

- 履歴: `output/question_resolution_result_YYYYMMDDTHHMMSSZ.json` （実行のたびに新規作成）
- 最新: `output/question_resolution_latest.json` （直近の結果を上書き）

両ファイルの JSON 構造は同一で、次のとおりです。

- `meta`  
  `tool` = `question-resolution`、`phase` = `F9-A`、`generated_at` = ISO8601 形式
- `results`（質問ごとの配列）  
  - `original_question`: 質問セットに記載された元の質問文  
  - `resolved_question`: 条・項を埋め込んだ質問文  
  - `ordinance_id` / `article` / `paragraph` / `resolution_type`: 既存の評価項目（型は従来どおり）  
  - `status`: 質問ごとの状態（現行は `resolved` 固定）

`question_text` は `original_question` に名称変更されています。`ordinance_id` / `article` / `paragraph` / `resolution_type` の評価用項目は従来どおり確認できます。

通常の作業確認や試行錯誤では、latest ファイルを参照してください。  
一方、評価記録・提出用・後日の再確認など、  
実行結果を保存・共有する場合は、履歴ファイルを使用してください。

latest は常に上書きされるため、  
正式な記録としての保存には適しません。

---

## 8. 注意点・よくあるケース

本章では、本ツールを利用する際に、
ユーザーが戸惑いやすい点や、
よくあるケースについて補足します。

出力項目の意味や読み方については、
前章（第7章）を参照してください。

本章では主に、
「この結果で問題ないのか」
「どのような場合に見直しが必要か」
といった判断の補助を目的としています。

---

### 8.1 自動解決されない質問がある場合

すべての質問が自動で解決されるとは限りません。

条例の構造によっては、

- 条番号や項番号が複数候補に分かれる
- 条文の構成が一意に判断できない

といったケースがあります。

このような場合に、
ユーザー入力が求められるのは
**正常な挙動**です。

自動解決されなかったこと自体を、
異常と考える必要はありません。

初回実行時や、質問内容が曖昧な場合は、
対話入力が多く感じられることがあります。

ただし、

- 2回目以降は直前の入力内容が自動的に再利用されます
- 条・項の入力が求められるのは、自動解決できない質問のみです

すべての質問に対して毎回入力が必要になるわけではありません。

---

### 8.2 user_input が表示された場合の考え方

出力に `Resolution Type: user_input` と表示される場合があります。

これは、

- ツールが推測による判断を行わず
- ユーザー自身の判断を優先した

結果です。

この設計は、
第6章で説明した設計原則に基づいています。

ユーザーが入力した条番号・項番号が
そのまま最終結果として確定しているため、
**出力内容自体は評価可能な状態**になっています。

---

### 8.3 想定より多くユーザー入力が発生する場合

質問セットの内容や、
対象とする条例の構造によっては、
ユーザー入力が多く発生することがあります。

その場合は、次の点を見直してください。

- 質問文が曖昧すぎないか  
  （複数の条・項に当てはまる表現になっていないか）
- 対象とする条例の範囲が広すぎないか  
  （条例 ID 一覧 CSV が適切に絞られているか）

これらを調整することで、
自動解決できる質問が増える場合があります。

---

### 8.4 処理が途中で中断された場合

次のような場合、処理は途中で中断されます。

- 条例 ID を一意に確定できない
- ユーザー入力が行われないまま処理を続行しようとした
- 入力ファイル（CSV / HTML）が見つからない、または形式が不正

いずれの場合も、
**未確定の状態で結果が出力されることはありません**。

エラーメッセージを確認し、
入力内容や指定パスを修正したうえで、
再度実行してください。

---

### 8.5 結果の妥当性に不安がある場合

出力結果に不安がある場合は、
次の観点で確認してください。

- 条例 ID・条番号・項番号がすべて具体的な値になっているか
- 抽象表現（第○条、第○項）が残っていないか
- 想定していた条例・条文と対応しているか

これらを満たしていれば、
質問の具体化は完了しています。

それでも不安が残る場合は、
対象となる条例や質問セットを見直し、
再実行することをおすすめします。

---

### 8.6 本ツールで行わないこと

本ツールは、次のような処理は行いません。

- 条例の意味や内容を解釈すること
- 条例の良し悪しや妥当性を判断すること
- 質問の意図を推測して補完すること

これらは、
誤った自動判断を避けるための設計です。

詳しい考え方については、
第6章「設計原則」を参照してください。

---

## FAQ（よくある質問・トラブル対応）

本ツールの利用中に、

- 想定と異なる結果になった
- エラーが表示されて処理が進まない
- これで正しく完了しているのか不安になった

といった場合は、FAQ を参照してください。

FAQ では、実行時にユーザーが遭遇しやすいケースについて、
その意味や考え方、対処方法を整理しています。

- docs/FAQ_Question_Resolution.md
