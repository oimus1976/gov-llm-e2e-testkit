---
title: dataset schema v0.1
project: gov-llm-e2e-testkit
phase: F9-D
status: FIX
version: v0.1
date: 2025-12-29
owner: Sumio Nishioka
depends_on:
  - Schema_rag_entry_v0.2
breaking_change: NO
---

> âš  æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã•ã‚Œã¦ã„ã¾ã™  
> æœ¬è¨­è¨ˆï¼ˆSchema_dataset_v0.1ï¼‰ã¯åˆæœŸæ¤œè¨ç‰ˆã¨ã—ã¦ã®å½¹å‰²ã‚’çµ‚ãˆã€  
> å¾Œç¶™ã¨ãªã‚‹ Schema_dataset_v0.2 ã®æ¤œè¨ãŒé€²è¡Œä¸­ã§ã™ã€‚  
> æœ¬æ–‡æ›¸ã¯å½“æ™‚ã®è¨­è¨ˆåˆ¤æ–­ã‚’ä¿å­˜ã™ã‚‹ç›®çš„ã§ archive ã«ç§»å‹•ã•ã‚Œã¾ã—ãŸã€‚


# ğŸ“˜ dataset schema v0.1

## 0. æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä½ç½®ã¥ã‘ï¼ˆæ‹˜æŸï¼‰

- æœ¬æ›¸ã¯ **dataset ã¨ã„ã†è«–ç†é›†åˆã®æ§‹é€ ãƒ»å¿…é ˆæ€§ãƒ»ç¦æ­¢äº‹é …**ã‚’å®šç¾©ã™ã‚‹
- æœ¬æ›¸ã¯ **Schema_rag_entry_v0.2 ã«å®Œå…¨ã«ä¾å­˜**ã™ã‚‹
- dataset ã¯ rag_entry ã‚’ **å†è§£é‡ˆãƒ»å†åŠ å·¥ã—ãªã„**
- æœ¬æ›¸ã«åã™ã‚‹ dataset / é‹ç”¨ / å®Ÿè£…ã¯ **è¨­è¨ˆé•å**ã¨ã¿ãªã™

---

## 1. dataset ã®å®šç¾©ï¼ˆæ‹˜æŸï¼‰

> **dataset ã¨ã¯ã€  
> åŒä¸€ã®è¦³æ¸¬ç›®çš„ãŠã‚ˆã³å›ºå®šæ¡ä»¶ã®ã‚‚ã¨ã§åé›†ã•ã‚ŒãŸ  
> è¤‡æ•°ã® rag_entry ã‚’ã€  
> å†ç¾ãƒ»æ¯”è¼ƒãƒ»æ¤œè¨¼å¯èƒ½ãªå½¢ã§æŸã­ãŸ  
> è«–ç†çš„ãªé›†åˆå˜ä½ã§ã‚ã‚‹ã€‚**

### æ‹˜æŸç‚¹

- dataset ã¯ **å®Œæˆæ™‚ã«åŸå‰‡ã¨ã—ã¦ 1 ä»¶ä»¥ä¸Šã® rag_entry ã‚’å«ã‚€**
- dataset è‡ªä½“ã¯ **è©•ä¾¡ãƒ»åˆ¤å®šãƒ»æ¯”è¼ƒçµæœã‚’å«ã¾ãªã„**
- dataset ã¯ **rag_entry ã®æ„å‘³ã‚’å¤‰æ›´ã—ãªã„**
- dataset ã¯ **rag_entry ã‚’æ¯”è¼ƒå¯èƒ½ãªçŠ¶æ…‹ã§ä¿æŒã™ã‚‹ãŸã‚ã®å™¨**ã§ã‚ã‚‹

---

## 2. dataset ã®è«–ç†æ§‹é€ ï¼ˆv0.1ï¼‰

```yaml
dataset:
  dataset_id: string
  version: string
  purpose: string
  created_at: string

  scope:
    description: string
    fixed_conditions:
      - name: string
        value: string

  entries:
    - rag_entry

  constraints:
    evaluation: disabled
```

---

## 3. å„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å®šç¾©ï¼ˆå…·ä½“ï¼‰

### 3.1 dataset_idï¼ˆå¿…é ˆï¼‰

- å‹ï¼šstring
- å†…å®¹ï¼š
  - dataset ã‚’ä¸€æ„ã«è­˜åˆ¥ã™ã‚‹ ID
- ä¾‹ï¼š
  - `rag_basic_html_vs_md_2025q4`
  - `lgwan_internet_compare_v1`
- å‚™è€ƒï¼š
  - äººãŒè¦‹ã¦è­˜åˆ¥å¯èƒ½ãªç²’åº¦ã‚’æŒã¤ã“ã¨

---

### 3.2 versionï¼ˆå¿…é ˆï¼‰

- å‹ï¼šstring
- å†…å®¹ï¼š
  - **ã“ã® dataset è‡ªä½“ã®ç‰ˆ**
- å‚™è€ƒï¼š
  - rag_entry schema ã® version ã¨ã¯ç„¡é–¢ä¿‚
  - æ¡ä»¶ãƒ»ç¯„å›²ãŒå¤‰ã‚ã£ãŸå ´åˆã¯å¿…ãšä¸Šã’ã‚‹

---

### 3.3 purposeï¼ˆå¿…é ˆï¼‰

- å‹ï¼šstring
- å†…å®¹ï¼š
  - ã“ã® dataset ã‚’ä½œæˆã—ãŸ **è¦³æ¸¬ç›®çš„**
- ä¾‹ï¼š
  - `HTML / Markdown ãƒŠãƒ¬ãƒƒã‚¸å·®åˆ†è¦³æ¸¬`
  - `INTERNET / LGWAN å®Ÿè¡Œçµæœæ¯”è¼ƒ`
- åˆ¶ç´„ï¼š
  - å›ç­”ã®æ­£èª¤ãƒ»å“è³ªè©•ä¾¡ã‚’ç›®çš„ã¨ã—ã¦ã¯ãªã‚‰ãªã„

---

### 3.4 created_atï¼ˆå¿…é ˆï¼‰

- å‹ï¼šstringï¼ˆISO 8601ï¼‰
- å†…å®¹ï¼š
  - **dataset å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆdataset.yaml ç­‰ï¼‰ãŒç”Ÿæˆã•ã‚ŒãŸæ™‚åˆ»**
- è£œè¶³ï¼š
  - rag_entry ã®åé›†é–‹å§‹ãƒ»å®Œäº†æ™‚åˆ»ã¨ã¯ä¸€è‡´ã—ãªã„å ´åˆãŒã‚ã‚‹

---

### 3.5 scopeï¼ˆå¿…é ˆï¼‰

dataset å…¨ä½“ã§ **å›ºå®šã•ã‚Œã¦ã„ã‚‹å‰ææ¡ä»¶**ã‚’å®šç¾©ã™ã‚‹ã€‚

#### scope.description

- å‹ï¼šstring
- å†…å®¹ï¼š
  - å›ºå®šæ¡ä»¶ã®æ¦‚è¦èª¬æ˜ï¼ˆäººé–“å‘ã‘ï¼‰

---

#### scope.fixed_conditions

- å‹ï¼šé…åˆ—
- è¦ç´ ï¼š
  - name: string
  - value: string
- å†…å®¹ï¼š
  - dataset å…¨ä½“ã§å›ºå®šã•ã‚Œã¦ã„ã‚‹æ¡ä»¶
- ä¾‹ï¼š

```yaml
fixed_conditions:
  - name: knowledge_format
    value: html
  - name: account_type
    value: staff
```

#### æ‹˜æŸ

- fixed_conditions ãŒç•°ãªã‚‹ rag_entry ã‚’
  **åŒä¸€ dataset ã«å«ã‚ã¦ã¯ãªã‚‰ãªã„**
- æ¡ä»¶ãŒå¤‰ã‚ã‚‹å ´åˆã¯ dataset ã‚’åˆ†å‰²ã™ã‚‹

---

### 3.6 entriesï¼ˆå¿…é ˆï¼‰

- å‹ï¼šrag_entry[]
- å†…å®¹ï¼š
  - Schema_rag_entry_v0.2 ã«æº–æ‹ ã—ãŸ rag_entry ã®é…åˆ—
- åˆ¶ç´„ï¼š
  - entries ã®é †åºã¯ **æ„å‘³ã‚’æŒãŸãªã„**
  - entries å†…ã® rag_entry ã¯
    **scope.fixed_conditions ã‚’æº€ãŸã—ã¦ã„ãªã‘ã‚Œã°ãªã‚‰ãªã„**
- è£œè¶³ï¼š
  - ç‰©ç†çš„ãªä¿å­˜é †ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«é †ã¯æ¯”è¼ƒçµæœã«å½±éŸ¿ã—ãªã„

---

### 3.7 constraintsï¼ˆå¿…é ˆãƒ»æ‹˜æŸï¼‰

#### constraints.evaluation

- å€¤ï¼š`disabled`ï¼ˆå›ºå®šï¼‰

#### æ„å‘³

- dataset è‡ªä½“ãŒè©•ä¾¡ãƒ»æ¡ç‚¹ãƒ»å„ªåŠ£åˆ¤æ–­ã‚’å«ã¾ãªã„ã“ã¨ã‚’æ˜ç¤ºã™ã‚‹
- å¾Œç¶šãƒ•ã‚§ãƒ¼ã‚ºãŒ dataset å†…ã§
  **è©•ä¾¡ãƒ­ã‚¸ãƒƒã‚¯ã‚’æš—é»™ã«å°å…¥ã™ã‚‹ã“ã¨ã‚’é˜²æ­¢ã™ã‚‹**

---

## 4. æ˜ç¢ºãªç¦æ­¢äº‹é …ï¼ˆæ‹˜æŸï¼‰

- rag_entry ã‚’åŠ å·¥ãƒ»è¦ç´„ãƒ»å†æ§‹æˆã—ã¦ã¯ãªã‚‰ãªã„
- Extracted / Raw ã‚’å¤‰æ›ã—ã¦ã¯ãªã‚‰ãªã„
- metadata.status ã‚’å†åˆ¤å®šã—ã¦ã¯ãªã‚‰ãªã„
- rag_entry é–“ã®æ„å‘³çš„çµ±åˆã‚’è¡Œã£ã¦ã¯ãªã‚‰ãªã„
- dataset ã«è©•ä¾¡çµæœãƒ»ã‚¹ã‚³ã‚¢ã‚’å«ã‚ã¦ã¯ãªã‚‰ãªã„

---

## 5. schema ãŒæ‰±ã‚ãªã„äº‹é …ï¼ˆæ˜ç¤ºï¼‰

æœ¬ schema v0.1 ã§ã¯ä»¥ä¸‹ã‚’æ‰±ã‚ãªã„ã€‚

- dataset ã®ç‰©ç†ä¿å­˜å½¢å¼ï¼ˆãƒ•ã‚©ãƒ«ãƒ€ / JSON / DB ç­‰ï¼‰
- entry_id ã®ç”Ÿæˆè¦å‰‡
- rag_entry ã®ä¸¦ã³é †ãƒ«ãƒ¼ãƒ«
- dataset ã‚’ã¾ãŸã„ã é–¢ä¿‚æ€§
- æ¯”è¼ƒãƒ»åˆ†æã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 

---

## Appendix A. dataset â†” rag_entry â†” answer.md ã®å¯¾å¿œï¼ˆå‚è€ƒï¼‰

> æœ¬ Appendix ã¯ **ç†è§£è£œåŠ©ç”¨ã®å‚è€ƒæƒ…å ±**ã§ã‚ã‚Šã€
> dataset schema v0.1 ã®æ‹˜æŸæ¡ä»¶ã‚’è¿½åŠ ã™ã‚‹ã‚‚ã®ã§ã¯ãªã„ã€‚

---

### A.1 è«–ç†æ§‹é€ ã®å¯¾å¿œ

```text
dataset
 â”œâ”€ dataset_id
 â”œâ”€ version
 â”œâ”€ purpose
 â”œâ”€ created_at
 â”œâ”€ scope
 â””â”€ entries[]
      â”œâ”€ rag_entry
      â”œâ”€ rag_entry
      â””â”€ ...
```

---

### A.2 ç‰©ç†è¡¨ç¾ã®ä¸€ä¾‹

```text
dataset_html_v1/
  dataset.yaml        â† dataset å®šç¾©ï¼ˆmetadataï¼‰
  entries/
    Q01/answer.md     â† rag_entryï¼ˆ1ä»¶ï¼‰
    Q02/answer.md
```

---

### A.3 å¯¾å¿œé–¢ä¿‚ã®æ•´ç†

- **answer.md**
  - 1 å›ã®è³ªå•å®Ÿè¡Œçµæœã‚’è¨˜éŒ²ã—ãŸç‰©ç†æˆæœç‰©
- **rag_entry**
  - answer.md ã‹ã‚‰å†æ§‹æˆå¯èƒ½ãªè«–ç†ãƒ‡ãƒ¼ã‚¿å˜ä½
- **dataset**
  - åŒä¸€æ¡ä»¶ã§åé›†ã•ã‚ŒãŸ rag_entry ã®è«–ç†é›†åˆ

---

### A.4 é‡è¦ãªè£œè¶³

- ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã¯ **ä¿å­˜ä¸Šã®ä¸€ä¾‹**ã«ã™ããªã„
- dataset schema ã¯
  **ä¿å­˜å½¢å¼ãƒ»ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã‚’è¦å®šã—ãªã„**
- dataset ã®æ„å‘³ã¯
  **metadataï¼ˆpurpose / scopeï¼‰ã«ã‚ˆã£ã¦å®šç¾©ã•ã‚Œã‚‹**

---

## 6. æœ¬ schema ã®ç›®çš„ï¼ˆå†æ²ï¼‰

- rag_entry ã‚’å®‰å…¨ã«æŸã­ã‚‹å˜ä½ã‚’å®šç¾©ã™ã‚‹
- æ¯”è¼ƒå¯èƒ½æ€§ã‚’å£Šã™æ··å…¥ã‚’é˜²æ­¢ã™ã‚‹
- F9-C / F9-D ã®æˆæœã‚’å¾Œç¶šãƒ•ã‚§ãƒ¼ã‚ºã«æ­£ã—ãå¼•ãæ¸¡ã™

---
